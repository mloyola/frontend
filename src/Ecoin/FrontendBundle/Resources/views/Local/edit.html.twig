{% extends '::frontend_cia.html.twig' %}

{% block title %}
    {{ 'Mis Locales'|trans({},lenguaje) }} - {{ 'Editar'|trans({},lenguaje) }}
{% endblock %}              

{% block comboidioma %}
  <li><a href="{{ path('local_edit', { 'id': entity_local.id, '_locale': 'es' }) }}">{{ 'Español'|trans({},lenguaje) }}</a></li>
  <li><a href="{{ path('local_edit', { 'id': entity_local.id, '_locale': 'en' }) }}">{{ 'Ingles'|trans({},lenguaje) }}</a></li>
  <li><a href="{{ path('local_edit', { 'id': entity_local.id, '_locale': 'pt' }) }}">{{ 'Portugués'|trans({},lenguaje) }}</a></li>
  <li><a href="{{ path('local_edit', { 'id': entity_local.id, '_locale': 'it' }) }}">{{ 'Italiano'|trans({},lenguaje) }}</a></li>  
{% endblock %}  

{% block jumbotron %}

{% endblock %}      

{% block javascripts %}
    {{ parent() }}
    <script>
        $(function(){            
            $("#local_ciudad").change(function(){
                var data = {ciudad_id: $(this).val()};

                $.ajax({
                    type: 'post',
                    url: '{{ path("select_distritos") }}',
                    data: data,
                    success: function(data) {$('#local_distrito').html(data);}
                });
                 
            });            
        });      
    </script>   
{% endblock %}

{% block activelugar %} in {% endblock %}
{% block activepago %} {% endblock %}
{% block activecuenta %} {% endblock %}
{% block activerepo %} {% endblock %}

{% block contenido %}
  
  <div class ="col-xs-12 col-sm-12 col-md-10 col-lg-8">
     {% for flashMessage in app.session.flashbag.get('info') %}
        <div class="alert alert-success">
          <span class="glyphicon glyphicon-ok"></span>{{ flashMessage }}
        </div>
      {% endfor %}

    <div class="panel panel-default">  
      <div class="panel-heading">
        <span class="glyphicon glyphicon-list-alt text-info"></span>
        {{ 'Mis Locales'|trans({},lenguaje) }} / <span class="glyphicon glyphicon-pencil"></span>{{ 'Editar'|trans({},lenguaje) }}
      </div>

      <div class="panel-body">    
		<br>
       
        {{ form_start(edit_form, {'attr': {'role': 'form'}}) }}
     
        {{ form_errors(edit_form) }}         

        <div class="form-group col-xs-12 col-sm-12 col-md-12 col-lg-12">              
          {% if form_errors(edit_form.descripcion) == '' %}
          
          {% else %} 
            <div class="alert alert-danger">{{ form_errors(edit_form.descripcion) }}</div>   
          {% endif %}          
          <label>{{ 'Nombre del local'|trans({},lenguaje) }}</label>    
          {{ form_widget(edit_form.descripcion, {'attr': {'class': 'form-control'}}) }}
        </div>

        <div class="form-group col-xs-4 col-sm-4 col-md-4 col-lg-4">              
          {% if form_errors(edit_form.telefono) == '' %}
          
          {% else %} 
            <div class="alert alert-danger">{{ form_errors(edit_form.telefono) }}</div>   
          {% endif %}          
          <label>{{ 'Teléfono'|trans({},lenguaje) }}</label>    
          {{ form_widget(edit_form.telefono, {'attr': {'class': 'form-control'}}) }}
        </div>

        <div class="form-group col-xs-8 col-sm-8 col-md-8 col-lg-8">              
          {% if form_errors(edit_form.email) == '' %}
          
          {% else %} 
            <div class="alert alert-danger">{{ form_errors(edit_form.email) }}</div>   
          {% endif %}          
          <label>{{ 'Correo electrónico'|trans({},lenguaje) }}</label>    
          {{ form_widget(edit_form.email, {'attr': {'class': 'form-control'}}) }}
        </div>

        <div class="form-group col-xs-3 col-sm-3 col-md-3 col-lg-3">              
          {% if form_errors(edit_form.via) == '' %}
          
          {% else %} 
            <div class="alert alert-danger">{{ form_errors(edit_form.via) }}</div>   
          {% endif %}          
          <label>{{ 'Vía'|trans({},lenguaje) }}</label>    
          {{ form_widget(edit_form.via, {'attr': {'class': 'form-control'}}) }}
        </div>

        <div class="form-group col-xs-7 col-sm-7 col-md-7 col-lg-7">              
          {% if form_errors(edit_form.nombrevia) == '' %}
          
          {% else %} 
            <div class="alert alert-danger">{{ form_errors(edit_form.nombrevia) }}</div>   
          {% endif %}          
          <label>{{ 'Nombre de vía'|trans({},lenguaje) }}</label>    
          {{ form_widget(edit_form.nombrevia, {'attr': {'class': 'form-control'}}) }}
        </div>

        <div class="form-group col-xs-2 col-sm-2 col-md-2 col-lg-2">              
          {% if form_errors(edit_form.numero) == '' %}
          
          {% else %} 
            <div class="alert alert-danger">{{ form_errors(edit_form.numero) }}</div>   
          {% endif %}          
          <label>{{ 'N°'|trans({},lenguaje) }}</label>    
          {{ form_widget(edit_form.numero, {'attr': {'class': 'form-control'}}) }}
        </div>

        <div class="form-group col-xs-3 col-sm-3 col-md-3 col-lg-3">              
          {% if form_errors(edit_form.interior) == '' %}
          
          {% else %} 
            <div class="alert alert-danger">{{ form_errors(edit_form.interior) }}</div>   
          {% endif %}          
          <label>{{ 'Interior'|trans({},lenguaje) }}</label>    
          {{ form_widget(edit_form.interior, {'attr': {'class': 'form-control'}}) }}
        </div>

        <div class="form-group col-xs-2 col-sm-2 col-md-2 col-lg-2">              
          {% if form_errors(edit_form.numinterior) == '' %}
          
          {% else %} 
            <div class="alert alert-danger">{{ form_errors(edit_form.numinterior) }}</div>   
          {% endif %}          
          <label>{{ 'N°'|trans({},lenguaje) }}</label>    
          {{ form_widget(edit_form.numinterior, {'attr': {'class': 'form-control'}}) }}
        </div>

        <div class="form-group col-xs-7 col-sm-7 col-md-7 col-lg-7">              
          {% if form_errors(edit_form.referencia) == '' %}
          
          {% else %} 
            <div class="alert alert-danger">{{ form_errors(edit_form.referencia) }}</div>   
          {% endif %}          
          <label>{{ 'Referencia'|trans({},lenguaje) }}</label>    
          {{ form_widget(edit_form.referencia, {'attr': {'class': 'form-control'}}) }}
        </div>        

        <div class="form-group col-xs-6 col-sm-6 col-md-6 col-lg-6">              
          {% if form_errors(edit_form.ciudad) == '' %}
          
          {% else %} 
            <div class="alert alert-danger">{{ form_errors(edit_form.ciudad) }}</div>   
          {% endif %}          
          <label>{{ 'Ciudad'|trans({},lenguaje) }}</label>              
          {{ form_widget(edit_form.ciudad) }}
        </div>

        <div class="form-group col-xs-6 col-sm-6 col-md-6 col-lg-6">                           
          {% if form_errors(edit_form.distrito) == '' %}
          
          {% else %} 
            <div class="alert alert-danger">{{ form_errors(edit_form.distrito) }}</div>   
          {% endif %}          
          <label>{{ 'Distrito'|trans({},lenguaje) }}</label>    
          {{ form_widget(edit_form.distrito, {'attr': {'class': 'form-control'}}) }}
        </div>
        
        <div class="form-group col-xs-12 col-sm-12 col-md-10 col-lg-10"> 
          <label>{{ 'Seleccione los horarios de atención'|trans({},lenguaje) }}</label>               
          <table>
            {% for horario in edit_form.horarios %}    
              <tr>
                <td>{{ form_widget(horario) }}</td>
                <td>{{ horario.vars.label }}</td>
              </tr>          
            {% endfor %}
          </table>
        </div>

        <div class="form-group col-xs-12 col-sm-12 col-md-10 col-lg-10">  
          <label>{{ 'Seleccione los servicios que brinda el local'|trans({},lenguaje) }}</label>              
          <table>
            {% for opcion in edit_form.subcategorias %}    
              <tr>
                <td>{{ form_widget(opcion) }}</td>
                <td>{{ opcion.vars.label }}</td>
              </tr>          
            {% endfor %}
          </table>
        </div>

        <div class="form-group col-xs-4 col-sm-4 col-md-4 col-lg-4">   
            <a href="{{ path('local') }}" class="btn btn-primary btn-md btn-block" title="{{ 'Regresar'|trans({},lenguaje) }}"><span class="glyphicon glyphicon-th-list"></span>{{ 'Listado'|trans({},lenguaje) }}</a>
          </div>

        <div class="form-group col-xs-4 col-sm-4 col-md-4 col-lg-4">                       
          <button type="submit" class="btn btn-success btn-md btn-block">
            <span class="glyphicon glyphicon-ok"></span> {{ 'Guardar cambios'|trans({},lenguaje) }}
          </button>                    
        </div>        
        <div class="form-group col-xs-4 col-sm-4 col-md-4 col-lg-4">                               
          <button type="reset" class="btn btn-danger btn-md btn-block"><span class="glyphicon glyphicon-refresh"></span>            
            {{ 'Cancelar'|trans({},lenguaje) }}</button>      
        </div>
      
        {{ form_end(edit_form) }}                
      </div>
    </div>
  </div>
        
{% endblock %}
